<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Proyecto POO — Inicio</title>
    <style>
        :root{--bg:#f6f8fb;--card:#fff;--accent:#0b5cff;--muted:#6b7280}
        *{box-sizing:border-box}
        body{font-family:Inter,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;margin:0;background:var(--bg);color:#111}
        header{background:linear-gradient(90deg,#0b5cff 0%,#3b82f6 100%);color:#fff;padding:1rem 1.25rem}
        .container{max-width:960px;margin:1.25rem auto;padding:0 1rem}
        .brand{display:flex;gap:0.75rem;align-items:center}
        .brand h1{font-size:1.125rem;margin:0}
        .card{background:var(--card);border-radius:8px;padding:1rem;margin-top:1rem;box-shadow:0 6px 18px rgba(11,92,255,0.06)}
        form{display:flex;gap:.5rem;flex-wrap:wrap}
        input,select,button{padding:.5rem .6rem;border:1px solid #e6e9ef;border-radius:6px;font-size:.95rem}
        input:focus,select:focus{outline:none;box-shadow:0 0 0 3px rgba(11,92,255,0.12);border-color:var(--accent)}
        .flex{display:flex;gap:.5rem;align-items:center}
        button{background:var(--accent);color:#fff;border:none;cursor:pointer}
        .list{margin-top:1rem;display:grid;gap:.5rem}
        .item{display:flex;justify-content:space-between;align-items:center;padding:.6rem;border-radius:6px;border:1px solid #eef2ff;background:#fbfdff}
        .meta{color:var(--muted);font-size:.9rem}
        .small{font-size:.85rem;color:var(--muted)}
        .empty{padding:1.25rem;text-align:center;color:var(--muted)}
        footer{margin-top:1.5rem;text-align:center;color:var(--muted);font-size:.85rem}
        @media(min-width:720px){ form input[type="text"]{flex:1} }
    </style>
</head>
<body>
    <header>
        <div class="container brand">
            <svg width="36" height="36" viewBox="0 0 24 24" fill="none" aria-hidden>
                <rect width="24" height="24" rx="6" fill="#fff" opacity="0.08"></rect>
                <path d="M7 12h10M7 8h10M7 16h10" stroke="#fff" stroke-width="1.5" stroke-linecap="round"></path>
            </svg>
            <h1>Proyecto POO</h1>
            <p>Nuestro portafolio-bienvenidos</p>
        </div>
    </header>

    <main class="container">
        <section class="card" aria-labelledby="form-title">
            <h2 id="form-title" style="margin:0 0 .75rem 0;font-size:1rem">Agregar entidad (POO)</h2>
            <form id="entityForm">
                <input type="text" id="name" placeholder="Nombre" required />
                <input type="number" id="age" placeholder="Edad" min="0" style="width:6.5rem" required />
                <select id="role" aria-label="Rol">
                    <option value="Alumno">Alumno</option>
                    <option value="Profesor">Profesor</option>
                    <option value="Asistente">Asistente</option>
                </select>
                <div class="flex" style="margin-left:auto">
                    <button type="submit">Agregar</button>
                </div>
            </form>

            <div class="list card" id="listContainer" style="margin-top:1rem;padding:0.5rem">
                <div class="empty" id="empty">No hay entidades. Agrega una usando el formulario.</div>
            </div>
        </section>

        <footer>
            Ejemplo simple de POO en JavaScript — almacenamiento local (localStorage)
        </footer>
    </main>

    <script>
        // Clase simple que representa una entidad en el proyecto POO
        class Entity {
            constructor(name, age, role) {
                this.id = Date.now().toString(36) + Math.random().toString(36).slice(2, 7);
                this.name = name;
                this.age = Number(age);
                this.role = role;
                this.createdAt = new Date();
            }

            summary() {
                return \`\${this.name} • \${this.role} • \${this.age} años\`;
            }
        }

        // Manejo de almacenamiento y UI
        const STORAGE_KEY = 'proyecto_poo_entities';
        const form = document.getElementById('entityForm');
        const listContainer = document.getElementById('listContainer');
        const empty = document.getElementById('empty');

        let entities = load();

        function save() {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(entities));
        }

        function load() {
            try {
                const raw = localStorage.getItem(STORAGE_KEY);
                const arr = raw ? JSON.parse(raw) : [];
                return arr.map(o => Object.assign(new Entity(), o));
            } catch {
                return [];
            }
        }

        function render() {
            listContainer.innerHTML = '';
            if (entities.length === 0) {
                listContainer.appendChild(empty);
                return;
            }
            entities.forEach(e => {
                const el = document.createElement('div');
                el.className = 'item';
                el.innerHTML = \`
                    <div>
                        <strong>\${escapeHtml(e.name)}</strong>
                        <div class="meta">\${escapeHtml(e.role)} · \${e.age} años</div>
                    </div>
                    <div class="small">
                        <button data-id="\${e.id}" class="remove" style="background:#fee2e2;color:#b91c1c;border:none;padding:.4rem .5rem;border-radius:6px;cursor:pointer">Eliminar</button>
                    </div>
                \`;
                listContainer.appendChild(el);
            });
        }

        function addEntity(name, age, role) {
            const ent = new Entity(name, age, role);
            entities.push(ent);
            save();
            render();
        }

        function removeEntity(id) {
            entities = entities.filter(x => x.id !== id);
            save();
            render();
        }

        form.addEventListener('submit', e => {
            e.preventDefault();
            const name = document.getElementById('name').value.trim();
            const age = document.getElementById('age').value;
            const role = document.getElementById('role').value;
            if (!name || !age) return;
            addEntity(name, age, role);
            form.reset();
            document.getElementById('name').focus();
        });

        listContainer.addEventListener('click', e => {
            const btn = e.target.closest('button.remove');
            if (!btn) return;
            const id = btn.dataset.id;
            removeEntity(id);
        });

        // Small utility to avoid injecting HTML
        function escapeHtml(str) {
            return String(str)
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(/"/g, '&quot;')
                .replace(/'/g, '&#039;');
        }

        // Inicializar UI
        render();
    </script>
</body>
</html>